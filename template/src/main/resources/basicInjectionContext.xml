<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">

    <!--Config by constructor-->
    <bean id="tank" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Car">
        <constructor-arg name="type" value="Tank"></constructor-arg>
        <constructor-arg index="1" value="59000000"></constructor-arg>
        <constructor-arg>
            <value>100</value>
        </constructor-arg>
    </bean>

    <bean id="engine-x" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Engine">
        <constructor-arg>
            <value>3000</value>
        </constructor-arg>
    </bean>

    <bean id="myCar" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Car">
        <constructor-arg name="type" value="Car"></constructor-arg>
        <constructor-arg type="String" >
            <value><![CDATA[<'model-x^>]]]></value>
        </constructor-arg>
        <constructor-arg type="double" value="390000"></constructor-arg>

        <!--<constructor-arg ref="engine-x"></constructor-arg>-->
        <constructor-arg>
            <ref bean="engine-x"></ref>
        </constructor-arg>
    </bean>

    <!--Internal Bean, only access by -->
    <bean id="carInternalEngine" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Car">
        <constructor-arg name="type" value="Car"></constructor-arg>
        <constructor-arg type="String" >
            <value>"model-x"</value>
        </constructor-arg>
        <constructor-arg type="double" value="290000"></constructor-arg>

        <constructor-arg>
            <bean id="internalEngine" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Engine">
                <constructor-arg value="1800"></constructor-arg>
            </bean>
        </constructor-arg>
    </bean>

    <!--Injection for Collection-->
        <!--Injection for List-->

        <bean id="Jerry" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Person">
                <property name="name" value="Jerry"></property>
                <property name="cars">
                    <list>
                        <ref bean="tank"/>
                        <ref bean="carInternalEngine"/>
                        <bean class="pers.xiaoming.java_framework.spring_basic.basic_injection.Car">
                            <constructor-arg name="type" value="Motor"></constructor-arg>
                            <constructor-arg name="price" value="4800"></constructor-arg>
                            <constructor-arg index="2">
                                <value>300</value>
                            </constructor-arg>
                        </bean>
                    </list>
                </property>
            </bean>

        <!--Injection for Map-->
        <bean id="Peter" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Person">
            <property name="name" value="Jerry"></property>
            <property name="carMap">
                <map>
                    <entry key="Tank Car" value-ref="tank"></entry>
                    <entry key="My Car" value-ref="carInternalEngine"/>
                </map>
            </property>
        </bean>


    <bean id="Jane" class="pers.xiaoming.java_framework.spring_basic.basic_injection.Person">
        <property name="name" value="Jane"></property>
        <property name="carMap" ref="CarMap"></property>
    </bean>

    <util:map id="CarMap">
        <entry key="Tank Car" value-ref="tank"></entry>
        <entry key="My Car" value-ref="carInternalEngine"/>
    </util:map>


    <bean id = "singletonEngine" class = "pers.xiaoming.java_framework.spring_basic.basic_injection.Engine">
        <constructor-arg value="1500"></constructor-arg>
    </bean>


    <bean id = "prototypeEngine"
          class = "pers.xiaoming.java_framework.spring_basic.basic_injection.Engine"
          scope = "prototype">
        <constructor-arg value="1500"></constructor-arg>
    </bean>

</beans>